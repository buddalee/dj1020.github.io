
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>鐵哥分享OO觀念_2016_0519 | 閃亮亮大師之路</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="閃亮亮dj">
    

    
    <meta name="description" content="物件導向基礎 - 物件導向設計入門物件導向的精神抽象 (Abstraction)：- 抽離具體的形象，只留下特徵
- 抽象不是簡化，而是外界對該事物的理解，用以定義「職責」
- 抽象省略了細節，讓人們專注在需求的描述上，學用抽象的角度看待事物的互動
- 過度抽象會導致錯誤的一致性，ex: 賽車手開賽車(競賽) -&amp;gt; 簡化成人在開車，那情境特性就不對了！

請你畫一個微笑：人會針對特徵去識別事">
<meta property="og:type" content="article">
<meta property="og:title" content="鐵哥分享OO觀念_2016_0519">
<meta property="og:url" content="http://blog.dj1020.net/鐵哥分享OO觀念-2016-0519/index.html">
<meta property="og:site_name" content="閃亮亮大師之路">
<meta property="og:description" content="物件導向基礎 - 物件導向設計入門物件導向的精神抽象 (Abstraction)：- 抽離具體的形象，只留下特徵
- 抽象不是簡化，而是外界對該事物的理解，用以定義「職責」
- 抽象省略了細節，讓人們專注在需求的描述上，學用抽象的角度看待事物的互動
- 過度抽象會導致錯誤的一致性，ex: 賽車手開賽車(競賽) -&amp;gt; 簡化成人在開車，那情境特性就不對了！

請你畫一個微笑：人會針對特徵去識別事">
<meta property="og:updated_time" content="2016-05-19T13:36:18.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="鐵哥分享OO觀念_2016_0519">
<meta name="twitter:description" content="物件導向基礎 - 物件導向設計入門物件導向的精神抽象 (Abstraction)：- 抽離具體的形象，只留下特徵
- 抽象不是簡化，而是外界對該事物的理解，用以定義「職責」
- 抽象省略了細節，讓人們專注在需求的描述上，學用抽象的角度看待事物的互動
- 過度抽象會導致錯誤的一致性，ex: 賽車手開賽車(競賽) -&amp;gt; 簡化成人在開車，那情境特性就不對了！

請你畫一個微笑：人會針對特徵去識別事">

    
    <link rel="alternative" href="/atom.xml" title="閃亮亮大師之路" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="閃亮亮大師之路" title="閃亮亮大師之路"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="閃亮亮大師之路">閃亮亮大師之路</a></h1>
				<h2 class="blog-motto">程式學習心得筆記</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜單">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:blog.dj1020.net">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/鐵哥分享OO觀念-2016-0519/" title="鐵哥分享OO觀念_2016_0519" itemprop="url">鐵哥分享OO觀念_2016_0519</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="閃亮亮dj" target="_blank" itemprop="author">閃亮亮dj</a>
		
  <p class="article-time">
    <time datetime="2016-05-19T11:41:05.000Z" itemprop="datePublished"> 發表於 2016-05-19</time>
  </p>

  
    <div class="article-share clearfix" id="share">
    
      <div data-url="http://blog.dj1020.net/鐵哥分享OO觀念-2016-0519/" data-title="鐵哥分享OO觀念_2016_0519 | 閃亮亮大師之路" data-tsina="null" class="share clearfix">
      </div>
    
    </div>
  

</header>
	<div class="article-content">
		
		<h1 id="u7269_u4EF6_u5C0E_u5411_u57FA_u790E_-__u7269_u4EF6_u5C0E_u5411_u8A2D_u8A08_u5165_u9580"><a href="#u7269_u4EF6_u5C0E_u5411_u57FA_u790E_-__u7269_u4EF6_u5C0E_u5411_u8A2D_u8A08_u5165_u9580" class="headerlink" title="物件導向基礎 - 物件導向設計入門"></a>物件導向基礎 - 物件導向設計入門</h1><h2 id="u7269_u4EF6_u5C0E_u5411_u7684_u7CBE_u795E"><a href="#u7269_u4EF6_u5C0E_u5411_u7684_u7CBE_u795E" class="headerlink" title="物件導向的精神"></a>物件導向的精神</h2><h3 id="u62BD_u8C61__28Abstraction_29_uFF1A"><a href="#u62BD_u8C61__28Abstraction_29_uFF1A" class="headerlink" title="抽象 (Abstraction)："></a>抽象 (Abstraction)：</h3><pre><code>- 抽離具體的形象，只留下特徵
- 抽象不是簡化，而是外界對該事物的理解，用以定義「職責」
- 抽象省略了細節，讓人們專注在需求的描述上，學用抽象的角度看待事物的互動
- 過度抽象會導致錯誤的一致性，ex: 賽車手開賽車(競賽) -&gt; 簡化成人在開車，那情境特性就不對了！
</code></pre><ul>
<li>請你畫一個微笑：人會針對特徵去識別事物，類似藝術家，會識別特徵並誇大變成抽象畫</li>
<li>ATM 提款畫，特徵：人，特徵：提款卡，特徵：ATM字樣的機器，特徵 $ 字號，箭頭表示提款的動作</li>
</ul>
<h3 id="u5C01_u88DD"><a href="#u5C01_u88DD" class="headerlink" title="封裝"></a>封裝</h3><pre><code>- 好的封裝：開放的越少越好，又缺一不可。(Law of Demeter, LoD)
- 封裝讓物件負責維護自己的內部狀態。Ex: 你要跟我借錢，你會拿走我的錢包把錢拿走嗎？No, 請透過「介面」
- 封裝的缺點：三個和尚沒水喝。因為類別或方法的職責不明確。Ex: getter 我覺得應該只是拿東西出來，但其實會存某些資料才吐值出來。
</code></pre><ul>
<li>Ex: 解鎖手機時需要知道手機是怎麼運作的嗎？只要手指放上去或是滑幾下就可以解鎖，不用知道裡面執行了些什麼。</li>
<li>Ex: ATM 構造示意圖。我們不用知道ATM內部結構，只要知道它可以提錢就好。</li>
</ul>
<h3 id="u7E7C_u627F"><a href="#u7E7C_u627F" class="headerlink" title="繼承"></a>繼承</h3><pre><code>- 繼承是抽象的特例化。把它想成是行為的特例化。
    + Ex: 車 -&gt; 卡車、賽車、三輪車
- 繼承區分出抽象類別(車)與具象類別(F1賽車)。
    + 讓抽象類別來定義外界如何理解行為，讓具象類別來實作行為。
- 繼承不是重用程式碼！
    + 是為了用戶端的一致性
    + 能夠重用程式碼只是附加價值
</code></pre><ul>
<li>教授 (類別)<ul>
<li>中文系教授 (特例化，給予特別職責 –&gt; 就是「繼承」)</li>
<li>音樂系教授</li>
</ul>
</li>
</ul>
<h3 id="u591A_u578B"><a href="#u591A_u578B" class="headerlink" title="多型"></a>多型</h3><pre><code>- 每個物件對同一個訊息(message)會有自己的行為
    + 需要繼承或實作介面來達成
- 依賴在抽象介面
    + …
- 儘可能不要用鴨子類別 (Duck Typing)
    + 會游泳、會飛、會呱呱叫的你就當成是鴨子
    + …
</code></pre><ul>
<li>老闆只說「去做事」，但工程師、專案經理、設計師各會依自己的職責去做事</li>
<li>以上三個角色都是員工(抽象類別)</li>
</ul>
<h2 id="u7269_u4EF6_u5C0E_u5411_u7684_u597D_u8655"><a href="#u7269_u4EF6_u5C0E_u5411_u7684_u597D_u8655" class="headerlink" title="物件導向的好處"></a>物件導向的好處</h2><ul>
<li>Ex:<ul>
<li>傳統 mysqli 的 insert 範例，程序化程式設計，加入兩個 users</li>
<li>物件導向寫法 $user-&gt;save() 的例子，加入兩個 users</li>
</ul>
</li>
</ul>
<ol>
<li>操作的是物件不是 mysqli library</li>
<li>用戶不必知道 mysqli 的細節</li>
<li>不需要曝露操作過程中的變數</li>
<li>程式更加語意化</li>
</ol>
<ul>
<li>用戶端程式只在乎他面對的物件是什麼？還有它能做什麼？</li>
</ul>
<h2 id="u7A0B_u5E8F_u5316_u601D_u7DAD_u8F49_u63DB_u5230_u7269_u4EF6_u5C0E_u5411_u601D_u7DAD"><a href="#u7A0B_u5E8F_u5316_u601D_u7DAD_u8F49_u63DB_u5230_u7269_u4EF6_u5C0E_u5411_u601D_u7DAD" class="headerlink" title="程序化思維轉換到物件導向思維"></a>程序化思維轉換到物件導向思維</h2><ul>
<li>User Class 建立 demostration</li>
<li>很簡單的方式把程序化程式轉化成物件的方式執行</li>
<li>把職責隔離出來</li>
<li>但有很多的雷區，新手會犯的錯</li>
</ul>
<h2 id="u65B0_u624B_u96F7_u5340_-__u5DF2_u7D93_u5728_u7528OO_uFF0C_u4F46_u7A0B_u5F0F_u78BC_u96E3_u4EE5_u7DAD_u8B77"><a href="#u65B0_u624B_u96F7_u5340_-__u5DF2_u7D93_u5728_u7528OO_uFF0C_u4F46_u7A0B_u5F0F_u78BC_u96E3_u4EE5_u7DAD_u8B77" class="headerlink" title="新手雷區 - 已經在用OO，但程式碼難以維護"></a>新手雷區 - 已經在用OO，但程式碼難以維護</h2><h4 id="u842C_u80FD_u985E_u5225_u6216_u65B9_u6CD5_uFF0CEx_3A__u8CFC_u7269_u8ECA_u985E_u5225_28ShoppingCart_29"><a href="#u842C_u80FD_u985E_u5225_u6216_u65B9_u6CD5_uFF0CEx_3A__u8CFC_u7269_u8ECA_u985E_u5225_28ShoppingCart_29" class="headerlink" title="萬能類別或方法，Ex: 購物車類別(ShoppingCart)"></a>萬能類別或方法，Ex: 購物車類別(ShoppingCart)</h4><pre><code>- addItem
- getItems
- calculateTotal
- getTotal
- getDiscount
- getPayment
- getShipment
- checkout
- getOrder
- sendOrderMail
- ... 天啊，一個類別把所有事做完，後面還有。一共幾千行的類別。甚至其中有一個「方法」就佔了一半。
</code></pre><h4 id="u628A_u8077_u8CAC_u9694_u96E2_u51FA_u4F86_28ISP_29_uFF0C_u6BCF_u500B_u985E_u5225_u6709_u55AE_u7D14_u7684_u8077_u8CAC_uFF0C_u66F4_u5BB9_u6613_u7DAD_u8B77_u548C_u4FEE_u6539"><a href="#u628A_u8077_u8CAC_u9694_u96E2_u51FA_u4F86_28ISP_29_uFF0C_u6BCF_u500B_u985E_u5225_u6709_u55AE_u7D14_u7684_u8077_u8CAC_uFF0C_u66F4_u5BB9_u6613_u7DAD_u8B77_u548C_u4FEE_u6539" class="headerlink" title="把職責隔離出來(ISP)，每個類別有單純的職責，更容易維護和修改"></a>把職責隔離出來(ISP)，每個類別有單純的職責，更容易維護和修改</h4><pre><code>- Cart (add/get/calculateTotal/getTotal)
- Order (setPayment/setShipment/getSenderMail)
- Discount (getDiscount)
- Mailer (send)
</code></pre><h4 id="u5206_u4E0D_u6E05_u300C_u62BD_u8C61_u985E_u5225_u300D_u6216_u300C_u4ECB_u9762_u300D"><a href="#u5206_u4E0D_u6E05_u300C_u62BD_u8C61_u985E_u5225_u300D_u6216_u300C_u4ECB_u9762_u300D" class="headerlink" title="分不清「抽象類別」或「介面」"></a>分不清「抽象類別」或「介面」</h4><pre><code>- 有共用的行為 -&gt; *抽象類別*
- 希望類別有多種行為，但又不想綁死在單一類別時，就用 -&gt; *介面*
- 在 PHP 中，介面的實作可以搭配 Trait
</code></pre><h4 id="u932F_u8AA4_u7684_u7E7C_u627F_u95DC_u4FC2"><a href="#u932F_u8AA4_u7684_u7E7C_u627F_u95DC_u4FC2" class="headerlink" title="錯誤的繼承關係"></a>錯誤的繼承關係</h4><pre><code>- Ex: Database(抽象類別) - connect/query/beginTransaction/commit
- Ex: MySql extends Database
- Ex: SQLite 因為為了要重用 MySql 中某些程式碼，SQLite extends MySql
</code></pre><h4 id="u4E0D_u5FC5_u8981_u7684_u66DD_u9732"><a href="#u4E0D_u5FC5_u8981_u7684_u66DD_u9732" class="headerlink" title="不必要的曝露"></a>不必要的曝露</h4><pre><code>- 因為全部的方法都用 public，結果不敢拔掉它。因為不知道誰會去用…
- 為了方便而曝露屬性
    + 所有的屬性加上 setter / getter
    + 錢包不要隨便丟在地上給人家撿
</code></pre><h4 id="u2026__u8B8A_u6578_u50B3_u905E_u554F_u984C"><a href="#u2026__u8B8A_u6578_u50B3_u905E_u554F_u984C" class="headerlink" title="… 變數傳遞問題"></a>… 變數傳遞問題</h4><pre><code>- addItem($item, array $items)
- calculateTotal(array $items)
</code></pre><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$items</span> = loadItemsFromSession();</span><br><span class="line"><span class="variable">$cart</span> = <span class="keyword">new</span> Cart();</span><br><span class="line"><span class="variable">$cart</span>-&gt;addItem(<span class="variable">$item</span>, <span class="variable">$items</span>);</span><br><span class="line"><span class="variable">$cart</span>-&gt;calculateTotal(<span class="variable">$items</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 應該把 $items 封裝為物件的內部屬性</span></span><br></pre></td></tr></table></figure>
<center><blockquote style="font-size: 2em; padding-bottom: 1em"><br>需求一定會變，程式一定會改。<br></blockquote></center>

<h4 id="if__u2026_else__u6563_u843D_u5404_u8655_-_26gt_3B__u8ACB_u96C6_u4E2D_u5728_u540C_u4E00_u500B_u5730_u65B9"><a href="#if__u2026_else__u6563_u843D_u5404_u8655_-_26gt_3B__u8ACB_u96C6_u4E2D_u5728_u540C_u4E00_u500B_u5730_u65B9" class="headerlink" title="if … else 散落各處 -&gt; 請集中在同一個地方"></a>if … else 散落各處 -&gt; 請集中在同一個地方</h4><h2 id="u7269_u4EF6_u5C0E_u5411_u7A0B_u5F0F_u7684_u8A2D_u8A08"><a href="#u7269_u4EF6_u5C0E_u5411_u7A0B_u5F0F_u7684_u8A2D_u8A08" class="headerlink" title="物件導向程式的設計"></a>物件導向程式的設計</h2><h4 id="u6CE8_u610F_u975C_u614B_u65B9_u6CD5_u8207_u51FD_u5F0F_u7684_u4F7F_u7528_u6642_u6A5F__uFF1F_uFF1F_uFF1F_u8209_u4F8B_uFF1F"><a href="#u6CE8_u610F_u975C_u614B_u65B9_u6CD5_u8207_u51FD_u5F0F_u7684_u4F7F_u7528_u6642_u6A5F__uFF1F_uFF1F_uFF1F_u8209_u4F8B_uFF1F" class="headerlink" title="注意靜態方法與函式的使用時機 ？？？舉例？"></a>注意靜態方法與函式的使用時機 ？？？舉例？</h4><pre><code>- 函式不能封裝靜態屬性
    + 函式只能透過傳參考或回傳變數來達到傳遞狀態的效果
    + 類別本身能透過靜態屬性來連通所有靜態方法與生成的物件
- 不需要多型的時候
    + 用戶端直接依賴在抽象類別上
    + 但注意會造成測試不易
- Ex:
</code></pre><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 費弗那西數列</span><br><span class="line"><span class="keyword">function</span> f(<span class="variable">$n</span>) &#123;</span><br><span class="line">    if (<span class="variable">$n</span> &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">        return <span class="variable">$n</span>;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return f(<span class="variable">$n</span> - <span class="number">1</span>) + f(<span class="variable">$n</span> - <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 費弗那西數列 ver <span class="number">2.0</span></span><br><span class="line"><span class="keyword">function</span> f(<span class="variable">$n</span>) &#123;</span><br><span class="line">    static result = [];</span><br><span class="line"></span><br><span class="line">    if (<span class="variable">$n</span> &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="variable">$r</span> = <span class="variable">$n</span>;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        <span class="variable">$r</span> = f(<span class="variable">$n</span> - <span class="number">1</span>) + f(<span class="variable">$n</span> - <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    result[<span class="variable">$n</span>] = <span class="variable">$r</span>;</span><br><span class="line"></span><br><span class="line">    return <span class="variable">$r</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="u5F9E_u9700_u6C42_u51FA_u767C"><a href="#u5F9E_u9700_u6C42_u51FA_u767C" class="headerlink" title="從需求出發"></a>從需求出發</h4><pre><code>- 先關注需求要什麼，再談如何達成
    + 先思考需求中的物件如何互動，以決定程式的架構
    + 讓底層元件去組合出符合需求的程式碼
- 從用戶端的角度去設計，不要從資料的角度去設計
    + 不要一開始就想處理資料的演算法是什麼
    + …
</code></pre><h4 id="u5167_u805A_28Cohesion_29"><a href="#u5167_u805A_28Cohesion_29" class="headerlink" title="內聚(Cohesion)"></a>內聚(Cohesion)</h4><pre><code>- 內聚力越高越好
    + 單一職責，每個方法、類別都有它的責任
- …
    + …
</code></pre><h4 id="u8026_u5408_28Coupling_29"><a href="#u8026_u5408_28Coupling_29" class="headerlink" title="耦合(Coupling)"></a>耦合(Coupling)</h4><pre><code>- 耦合度越低越好
    + 不會牽一髮而動全身
    + OCP
- 用戶端儘可能不要知道太多其他類別
    + 讓底層改變的波動不會傳遞到用戶端
    + 業務邏輯不要依賴在實作上，Ex: 訂單操作綁死金流或物流
</code></pre><h4 id="u7E7C_u627F_u8A2D_u8A08"><a href="#u7E7C_u627F_u8A2D_u8A08" class="headerlink" title="繼承設計"></a>繼承設計</h4><pre><code>- 多用組合，少用繼承。需要多型的地方才用繼承
- 繼承階層不要過深，通常不超過3層
- 參考設計模式來使用繼承
</code></pre><h4 id="u5206_u5C64_u8A2D_u8A08"><a href="#u5206_u5C64_u8A2D_u8A08" class="headerlink" title="分層設計"></a>分層設計</h4><pre><code>- 在關鍵點切開職責
- 每層都是下一層的抽象，封裝下一層的細節
    + 每一層有自己的職責，不要管下一層怎麼做
    + 不允許跨層存取，例如 Service 層不直接使用 PDO 物件，而是透過 ORM 或 Repository
- 越上層越靠近需求，越下層越靠近實作
</code></pre><h3 id="u5BE6_u4F8B_u6F14_u7DF4"><a href="#u5BE6_u4F8B_u6F14_u7DF4" class="headerlink" title="實例演練"></a>實例演練</h3><p>用 Model 來抽象化之前 User Class，Database Class 來取代之前用 constructor 來初始化 DB connection。<br>Database &lt;- MysqliDriver<br>Model &lt;- User</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">User::setDb(<span class="keyword">new</span> MysqliDriver());</span><br><span class="line"><span class="variable">$user</span> = <span class="keyword">new</span> User([</span><br><span class="line">    <span class="string">'name'</span> =&gt; <span class="string">'John'</span>,</span><br><span class="line">    <span class="string">'email'</span> =&gt; <span class="string">'John@email.com'</span>,</span><br><span class="line">]);</span><br><span class="line"><span class="variable">$user</span>-&gt;save();</span><br></pre></td></tr></table></figure>
<h4 id="u76F8_u95DC_u7684_class__u90FD_u5BEB_u5728_u540C_u4E00_u500B_u6A94_u6848_uFF0C_u8B1B_u89E3_u548C_u601D_u8DEF_u6703_u8B8A_u5F88_u6E05_u695A_uFF01_u4E0D_u7528_u8DF3_u4F86_u8DF3_u53BB_uFF0C_u64CD_u4F5C_u4E5F_u65B9_u4FBF_u3002"><a href="#u76F8_u95DC_u7684_class__u90FD_u5BEB_u5728_u540C_u4E00_u500B_u6A94_u6848_uFF0C_u8B1B_u89E3_u548C_u601D_u8DEF_u6703_u8B8A_u5F88_u6E05_u695A_uFF01_u4E0D_u7528_u8DF3_u4F86_u8DF3_u53BB_uFF0C_u64CD_u4F5C_u4E5F_u65B9_u4FBF_u3002" class="headerlink" title="相關的 class 都寫在同一個檔案，講解和思路會變很清楚！不用跳來跳去，操作也方便。"></a>相關的 class 都寫在同一個檔案，講解和思路會變很清楚！不用跳來跳去，操作也方便。</h4><h4 id="u6700_u57FA_u672C_u7684_u4E00_u500B_ORM"><a href="#u6700_u57FA_u672C_u7684_u4E00_u500B_ORM" class="headerlink" title="最基本的一個 ORM"></a>最基本的一個 ORM</h4><h3 id="u6A21_u5F0F_u7D44_u5408_u7BC4_u4F8B_-_Intervention_Image__u70BA_u4F8B"><a href="#u6A21_u5F0F_u7D44_u5408_u7BC4_u4F8B_-_Intervention_Image__u70BA_u4F8B" class="headerlink" title="模式組合範例 - Intervention Image 為例"></a>模式組合範例 - Intervention Image 為例</h3><ul>
<li>看鐵哥的圖 …</li>
</ul>
<h2 id="u8FF7_u601D_uFF1A_u4EC0_u9EBC_u9700_u6C42_u90FD_u9069_u5408_u7528_u7269_u4EF6_u5C0E_u5411_u4F86_u5B8C_u6210_u55CE_uFF1F"><a href="#u8FF7_u601D_uFF1A_u4EC0_u9EBC_u9700_u6C42_u90FD_u9069_u5408_u7528_u7269_u4EF6_u5C0E_u5411_u4F86_u5B8C_u6210_u55CE_uFF1F" class="headerlink" title="迷思：什麼需求都適合用物件導向來完成嗎？"></a>迷思：什麼需求都適合用物件導向來完成嗎？</h2>  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/PHP也有Day/">PHP也有Day</a><a href="/tags/筆記/">筆記</a><a href="/tags/設計模式/">設計模式</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://blog.dj1020.net/鐵哥分享OO觀念-2016-0519/" data-title="鐵哥分享OO觀念_2016_0519 | 閃亮亮大師之路" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/Laradiner讀書會-SOLID-原則(3)-Liskov-Substitution-Principle-2016-05-26/" title="Laradiner讀書會 - SOLID 原則(3) Liskov Substitution Principle">
  <strong>上一篇：</strong><br/>
  <span>
  Laradiner讀書會 - SOLID 原則(3) Liskov Substitution Principle</span>
</a>
</div>


<div class="next">
<a href="/Laradiner讀書會-SOLID-原則(2)-Open-Closed-2016-03-03/"  title="Laradiner 讀書會 - SOLID 原則 (2) Open Closed Principle 開放封閉原則 導讀心得整理筆記">
 <strong>下一篇：</strong><br/> 
 <span>Laradiner 讀書會 - SOLID 原則 (2) Open Closed Principle 開放封閉原則 導讀心得整理筆記
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="顯示側邊欄"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目錄</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#u7269_u4EF6_u5C0E_u5411_u57FA_u790E_-__u7269_u4EF6_u5C0E_u5411_u8A2D_u8A08_u5165_u9580"><span class="toc-number">1.</span> <span class="toc-text">物件導向基礎 - 物件導向設計入門</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#u7269_u4EF6_u5C0E_u5411_u7684_u7CBE_u795E"><span class="toc-number">1.1.</span> <span class="toc-text">物件導向的精神</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#u62BD_u8C61__28Abstraction_29_uFF1A"><span class="toc-number">1.1.1.</span> <span class="toc-text">抽象 (Abstraction)：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u5C01_u88DD"><span class="toc-number">1.1.2.</span> <span class="toc-text">封裝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u7E7C_u627F"><span class="toc-number">1.1.3.</span> <span class="toc-text">繼承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u591A_u578B"><span class="toc-number">1.1.4.</span> <span class="toc-text">多型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#u7269_u4EF6_u5C0E_u5411_u7684_u597D_u8655"><span class="toc-number">1.2.</span> <span class="toc-text">物件導向的好處</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#u7A0B_u5E8F_u5316_u601D_u7DAD_u8F49_u63DB_u5230_u7269_u4EF6_u5C0E_u5411_u601D_u7DAD"><span class="toc-number">1.3.</span> <span class="toc-text">程序化思維轉換到物件導向思維</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#u65B0_u624B_u96F7_u5340_-__u5DF2_u7D93_u5728_u7528OO_uFF0C_u4F46_u7A0B_u5F0F_u78BC_u96E3_u4EE5_u7DAD_u8B77"><span class="toc-number">1.4.</span> <span class="toc-text">新手雷區 - 已經在用OO，但程式碼難以維護</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#u842C_u80FD_u985E_u5225_u6216_u65B9_u6CD5_uFF0CEx_3A__u8CFC_u7269_u8ECA_u985E_u5225_28ShoppingCart_29"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">萬能類別或方法，Ex: 購物車類別(ShoppingCart)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u628A_u8077_u8CAC_u9694_u96E2_u51FA_u4F86_28ISP_29_uFF0C_u6BCF_u500B_u985E_u5225_u6709_u55AE_u7D14_u7684_u8077_u8CAC_uFF0C_u66F4_u5BB9_u6613_u7DAD_u8B77_u548C_u4FEE_u6539"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">把職責隔離出來(ISP)，每個類別有單純的職責，更容易維護和修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u5206_u4E0D_u6E05_u300C_u62BD_u8C61_u985E_u5225_u300D_u6216_u300C_u4ECB_u9762_u300D"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">分不清「抽象類別」或「介面」</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u932F_u8AA4_u7684_u7E7C_u627F_u95DC_u4FC2"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">錯誤的繼承關係</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u4E0D_u5FC5_u8981_u7684_u66DD_u9732"><span class="toc-number">1.4.0.5.</span> <span class="toc-text">不必要的曝露</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u2026__u8B8A_u6578_u50B3_u905E_u554F_u984C"><span class="toc-number">1.4.0.6.</span> <span class="toc-text">… 變數傳遞問題</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#if__u2026_else__u6563_u843D_u5404_u8655_-_26gt_3B__u8ACB_u96C6_u4E2D_u5728_u540C_u4E00_u500B_u5730_u65B9"><span class="toc-number">1.4.0.7.</span> <span class="toc-text">if … else 散落各處 -> 請集中在同一個地方</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#u7269_u4EF6_u5C0E_u5411_u7A0B_u5F0F_u7684_u8A2D_u8A08"><span class="toc-number">1.5.</span> <span class="toc-text">物件導向程式的設計</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#u6CE8_u610F_u975C_u614B_u65B9_u6CD5_u8207_u51FD_u5F0F_u7684_u4F7F_u7528_u6642_u6A5F__uFF1F_uFF1F_uFF1F_u8209_u4F8B_uFF1F"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">注意靜態方法與函式的使用時機 ？？？舉例？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u5F9E_u9700_u6C42_u51FA_u767C"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">從需求出發</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u5167_u805A_28Cohesion_29"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">內聚(Cohesion)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u8026_u5408_28Coupling_29"><span class="toc-number">1.5.0.4.</span> <span class="toc-text">耦合(Coupling)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u7E7C_u627F_u8A2D_u8A08"><span class="toc-number">1.5.0.5.</span> <span class="toc-text">繼承設計</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u5206_u5C64_u8A2D_u8A08"><span class="toc-number">1.5.0.6.</span> <span class="toc-text">分層設計</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u5BE6_u4F8B_u6F14_u7DF4"><span class="toc-number">1.5.1.</span> <span class="toc-text">實例演練</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#u76F8_u95DC_u7684_class__u90FD_u5BEB_u5728_u540C_u4E00_u500B_u6A94_u6848_uFF0C_u8B1B_u89E3_u548C_u601D_u8DEF_u6703_u8B8A_u5F88_u6E05_u695A_uFF01_u4E0D_u7528_u8DF3_u4F86_u8DF3_u53BB_uFF0C_u64CD_u4F5C_u4E5F_u65B9_u4FBF_u3002"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">相關的 class 都寫在同一個檔案，講解和思路會變很清楚！不用跳來跳去，操作也方便。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#u6700_u57FA_u672C_u7684_u4E00_u500B_ORM"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">最基本的一個 ORM</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u6A21_u5F0F_u7D44_u5408_u7BC4_u4F8B_-_Intervention_Image__u70BA_u4F8B"><span class="toc-number">1.5.2.</span> <span class="toc-text">模式組合範例 - Intervention Image 為例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#u8FF7_u601D_uFF1A_u4EC0_u9EBC_u9700_u6C42_u90FD_u9069_u5408_u7528_u7269_u4EF6_u5C0E_u5411_u4F86_u5B8C_u6210_u55CE_uFF1F"><span class="toc-number">1.6.</span> <span class="toc-text">迷思：什麼需求都適合用物件導向來完成嗎？</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隱藏側邊欄"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分類</p>
		<ul>
		
		  
			<li><a href="/categories/Hexo-筆記/" title="Hexo 筆記">Hexo 筆記<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/程式筆記/" title="程式筆記">程式筆記<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">標簽</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/筆記/" title="筆記">筆記<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/PHP-Conf/" title="PHP Conf">PHP Conf<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/程式學習/" title="程式學習">程式學習<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/Laradiner讀書會/" title="Laradiner讀書會">Laradiner讀書會<sup>6</sup></a></li>
			
		
			
				<li><a href="/tags/PHP也有Day/" title="PHP也有Day">PHP也有Day<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Bootstrap/" title="Bootstrap">Bootstrap<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Test-Corner/" title="Test Corner">Test Corner<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/TDD/" title="TDD">TDD<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/設計模式/" title="設計模式">設計模式<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/JSON/" title="JSON">JSON<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/curl/" title="curl">curl<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/講座/" title="講座">講座<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Laradiner/" title="Laradiner">Laradiner<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Install/" title="Install">Install<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情鏈接</p>
    <ul>
        
          <li>
            
            	<a href="http://oomusou.io/" target="_blank" title="Sam&#39;s 點燈坊">Sam&#39;s 點燈坊</a>
            
          </li>
        
          <li>
            
            	<a href="http://jaceju.net/" target="_blank" title="鐵哥 JaceJu&#39;s Blog">鐵哥 JaceJu&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 訂閱</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Ken Lin in Cloud Interactive. <br/>
			This is my blog, believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="閃亮亮dj">閃亮亮dj</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回頂部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-M3DVW3"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-M3DVW3');</script>
  <!-- End Google Tag Manager -->
</html>

